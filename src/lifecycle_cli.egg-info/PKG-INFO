Metadata-Version: 2.4
Name: lifecycle-cli
Version: 0.3.4
Summary: CLI tool for managing lifecycle operations
Author-email: ronilefkowitz <rlefkowi@cisco.com>
Keywords: cli,lifecycle,operations,deployment
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: typer>=0.16.0
Requires-Dist: requests>=2.32.3
Requires-Dist: pyyaml>=6.0.2
Requires-Dist: questionary>=2.1.0
Requires-Dist: semver>=3.0.4
Requires-Dist: jsonschema>=4.24.0
Requires-Dist: python-dotenv>=1.1.0
Requires-Dist: pydantic-settings>=2.9.1
Requires-Dist: packaging>=25.0
Requires-Dist: tomlkit>=0.13.3
Requires-Dist: sseclient>=0.0.27
Requires-Dist: tomli>=2.0.0; python_version < "3.11"
Requires-Dist: tenacity>=8.2.3
Provides-Extra: dev
Requires-Dist: pytest>=8.0; extra == "dev"
Requires-Dist: black>=24.3; extra == "dev"

# CX Lifecycle CLI

A command-line interface tool for managing lifecycle operations, built for modern Python development.

## üöÄ Quick Start

### Install with uvx (Recommended)

The fastest way to get started is with `uvx` - no need to manage Python environments:

```bash
# Install and run directly from GitHub
uvx --from git+https://github.com/CXEPI/cxp-lifecycle-cli cx-cli --help

# Or install permanently 
uv tool install git+https://github.com/CXEPI/cxp-lifecycle-cli
cx-cli --help
```

### Alternative: Install with pip

```bash
pip install git+https://github.com/CXEPI/cxp-lifecycle-cli
```

## üìñ Usage

Once installed, you can access the CLI:

```bash
cx-cli --help          # Show all available commands
cx-cli version         # Show version information
cx-cli init            # Initialize a new project
```

## üîÑ Version Management & Updates

The CLI automatically checks for new versions on startup and notifies you when updates are available.

### Upgrading to the Latest Version

To upgrade to the latest version, simply run:

```bash
cx-cli upgrade
```

This will automatically detect your installation method (uv or pip) and upgrade accordingly. You can also specify the method:

```bash
cx-cli upgrade --method uv    # Force upgrade using uv
cx-cli upgrade --method pip   # Force upgrade using pip
cx-cli upgrade -y             # Skip confirmation prompt
```

### Manual Upgrade

If you prefer to upgrade manually:

```bash
# Using uv (recommended)
uv tool install --force --no-cache git+https://github.com/CXEPI/cxp-lifecycle-cli

# Using pip
pip install --upgrade git+https://github.com/CXEPI/cxp-lifecycle-cli
```

## ü™ü Windows Support

The CLI now fully supports Windows! All features work cross-platform including file operations, path handling, and cloud deployments.

### Upgrading from Previous Versions (Windows Users)

If you installed the CLI before Windows support was added, you'll need to perform a clean reinstall to get the fixes:

```bash
# 1. Uninstall the old version
uv tool uninstall lifecycle-cli

# 2. Clear the UV cache
uv cache clean

# 3. Reinstall with no cache
uv tool install --force --no-cache git+https://github.com/CXEPI/cxp-lifecycle-cli
```

After reinstalling, verify the installation:
```bash
cx-cli --help
cx-cli version
```

## ‚öôÔ∏è Configuration

The CLI can be configured using a configuration file located at `~/.cx-cli/config.json`.

### Managing Configuration

```bash
# List all configuration settings
cx-cli config list

# Get a specific configuration value
cx-cli config get version-check-enabled

# Set a configuration value
cx-cli config set version-check-enabled false
```

### Available Configuration Options

#### version-check-enabled

Controls whether the CLI checks for updates on startup.

- **Type**: boolean (true/false)
- **Default**: true
- **Usage**:
  ```bash
  # Disable version checking
  cx-cli config set version-check-enabled false

  # Enable version checking
  cx-cli config set version-check-enabled true
  ```

When disabled, the CLI will not check for updates or block execution when a new version is available. This is useful for CI/CD environments or if you prefer to manage updates manually.

### Configuration File Location

Configuration is stored in `~/.cx-cli/config.json`. You can also edit this file directly:

```json
{
  "version-check-enabled": false
}
```

## Commands

### General Commands
- **Get help on CLI commands**  
  `cx-cli --help`  
  Displays help information for all available commands.

- **Get help on a specific command**
- `cx-cli <command> --help`  
  Displays help information for the specified command.

- **Create metadata**
- `cx-cli init`  
  Creates metadata for the application.

- **validate metadata**
- `cx-cli validate-app`  
  Validates the metadata of the application.


### datafabric Management

- **Deploy a connector**  
  `cx-cli datafabric add-connector`  
  Deploys the specified connector.

- **Destroy a connector**  
  `cx-cli datafabric destroy-connector <connector-name>`  
  Removes the specified connector.

- **List all connectors**  
  `cx-cli datafabric list-connectors`  
  Lists all available connectors.

### API Function Management

- **Get help on API commands**  
  `cx-cli api --help`  
  Displays help information for API-related commands.

- **Create a new function**  
  `cx-cli api add-function`  
  Creates a new API function.

- **Destroy a function**  
  `cx-cli api destroy-function <function-name>`  
  Removes the specified API function.

- **List all functions**  
  `cx-cli api list-functions`  
  Lists all available API functions.


### IAM Management
- **Get help on IAM commands**  
  `cx-cli iam --help`  
  Displays help information for IAM-related commands.

- **Create Permission**
- `cx-cli iam create_permission`  
    Creates a new permission in the IAM system.

- **Create Tenant**
  - `cx-cli iam create_tenant`  
    Creates a new tenant in the IAM system.
  

    
This version is for end-users who want to install and run the CLI from GitHub.

# Lifecycle CLI

Command-line interface tool for managing lifecycle operations.

## üß© Installation (via GitHub)

You can install the CLI directly from the GitHub repo:

## bash
pip install git+https://github.com/<your-org>/<your-repo>.git#subdirectory=cli
Make sure you have Python ‚â• 3.9 and pip installed.

üöÄ Usage

Once installed, you can access the CLI using:

cx-cli --help
Example:

cx-cli init 
cx-cli datafabric add-connector <connector-name>
üîÑ Enable Autocomplete (Optional but Recommended)

Typer provides autocomplete for bash, zsh, and fish.

Enable it by running:

cx-cli --install-completion



---

## üõ†Ô∏è 2. **README for Developers (Contributors)**

This version is for internal developers who are working on the CLI source code.

# Lifecycle CLI - Developer Guide

## üß™ Local Setup

Clone the repository and set up Poetry (if you haven‚Äôt already):

1. `git clone https://github.com/CXEPI/cxp-lifecycle.git`
2. `cd cxp-lifecycle/cli`
3. `poetry install`
4. copy .env.example to .env and fill in the required environment variables

To run the CLI locally:

1. `poetry run cx-cli --help`

or globally by:

1. `cd cxp-lifecycle/cli`

2. `pip install -e .`

and then just use: `cx-cli` (it will also automatically reflects changes you make in the lifecycle code)

To test a command:

poetry run cx-cli hello --name Dev
üßπ Lint and Format

Run formatting and lint checks:

poetry run black src
üß™ Tests

poetry run pytest
üîÑ Releasing a New Version

Bump version in pyproject.toml under [tool.poetry]:
version = "0.2.0"
Commit and push the changes:
git add pyproject.toml
git commit -m "chore: bump CLI version to 0.2.0"
git push
Create a GitHub Release (optional):
Go to GitHub > Releases > Draft a new release
Tag: v0.2.0
Title: v0.2.0
Description: Add change notes
Notify users to update:
pip install --upgrade git+https://github.com/<your-org>/<your-repo>.git#subdirectory=cli
üß† Autocomplete (for dev testing)

Run once to install CLI autocomplete:

poetry run cx-cli --install-completion
Then restart your shell or source ~/.bashrc.

## üõ†Ô∏è Creating a Standalone Executable (.exe) with PyInstaller

You can package the CLI into a single `.exe` for users who don't have Python installed.

### 1. Install PyInstaller

```bash
pip install pyinstaller
2. Add a launcher script
Create src/cli/main.py:

from cli.commands import app

if __name__ == "__main__":
    app()
3. Build the binary
From the cli/ folder:

pyinstaller --onefile src/cli/main.py --name cx-cli --paths src
Output:

dist/cx-cli.exe       # Windows
dist/cx-cli           # Linux/macOS
4. Run the binary
./dist/cx-cli --help
5. Clean up (optional)
Add to .gitignore:

# PyInstaller
build/
dist/
*.spec


## üîÑ Version Management

This CLI uses Git tags for version management. To release a new version:

1. Update the version in `pyproject.toml`
2. Create a Git tag: `git tag v0.1.39`
3. Push the tag: `git push origin v0.1.39`
4. Users can install the latest version with uvx/uv

### Automatic Updates

When using uvx, you can always run the latest version:
```bash
uvx --from git+https://github.com/CXEPI/cxp-lifecycle-cli cx-cli --help
```

For permanent installations, update with:
```bash
uv tool upgrade lifecycle-cli
# or
pip install --upgrade git+https://github.com/CXEPI/cxp-lifecycle-cli
```

## üõ†Ô∏è Development

### For Contributors

Clone and set up for development:

```bash
git clone https://github.com/CXEPI/cxp-lifecycle-cli
cd cxp-lifecycle-cli
uv sync --dev
uv run cx-cli --help
```

Or with Poetry (legacy):
```bash
poetry install
poetry run cx-cli --help
```

### Testing Changes
```bash
# Test your changes locally
uvx --from . cx-cli --help

# Run tests
uv run pytest

# Format code
uv run black src
```

